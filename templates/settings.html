<!DOCTYPE html>
{% extends "base.html" %}
{% block title %}Einstellungen{% endblock %}

{% block content %}
<div class="settings-container">
    <aside class="settings-nav">
        <ul>
            <li><a href="#" class="active" data-target="tags-settings">Tag-Verwaltung</a></li>
            <li><a href="#" data-target="theme-settings">Design</a></li>
        </ul>
    </aside>
    <main class="settings-content">
        <div id="tags-settings" class="settings-section active">
            <h2>Tag-Verwaltung</h2>
            <p>Verwalte hier die Kategorien und die zugehörigen Tags.</p>
            <div class="add-category-section">
                <h4>Neue Kategorie hinzufügen</h4>
                <form id="add-category-form" class="form-inline">
                    <input type="text" id="new-category-name" placeholder="Name der Kategorie" required>
                    <button type="submit">Kategorie erstellen</button>
                </form>
            </div>
            <hr>
            <div id="categories-container">
            </div>
        </div>

        <div id="theme-settings" class="settings-section">
            <h2>Design-Einstellungen</h2>
            <div class="theme-switcher">
                <label for="theme-toggle">Dark Mode</label>
                <label class="switch">
                    <input type="checkbox" id="theme-toggle">
                    <span class="slider round"></span>
                </label>
            </div>
        </div>
    </main>
</div>

<div id="edit-tag-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <h3>Tag bearbeiten</h3>
        <form id="edit-tag-form">
            <input type="hidden" id="edit-tag-original-name">
            <input type="hidden" id="edit-tag-category-name">
            <div class="form-group">
                <label for="edit-tag-name">Tag-Name</label>
                <input type="text" id="edit-tag-name" required>
            </div>
            <div class="form-group">
                <label>Tag-Farbe</label>
                <div id="edit-tag-color-palette" class="color-palette"></div>
            </div>
            <div class="button-group">
                <button type="submit">Speichern</button>
                <button type="button" id="edit-tag-modal-cancel" class="secondary">Abbrechen</button>
            </div>
        </form>
    </div>
</div>

<div id="edit-category-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <h3>Kategorie bearbeiten</h3>
        <form id="edit-category-form">
            <input type="hidden" id="edit-category-original-name">
            <div class="form-group">
                <label for="edit-category-name">Kategorie-Name</label>
                <input type="text" id="edit-category-name" required>
            </div>
            <div class="button-group">
                <button type="submit">Speichern</button>
                <button type="button" id="edit-category-modal-cancel" class="secondary">Abbrechen</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/settings.js') }}"></script>
{% endblock %}